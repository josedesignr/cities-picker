"use strict";function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}!function(){angular.module("citiesPicker",["ui-leaflet","google.places","ngStorage"])}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};angular.module("citiesPicker").controller("MainController",["$scope","$http","$localStorage",function(e,t,o){var n;e.$storage=o.$default({markers:[],citiesList:[]}),e.currentCity="",angular.extend(e,{center:{lat:3.9,lng:-73.5,zoom:5},defaults:(n={tileLayer:"https://api.mapbox.com/styles/v1/mapbox/streets-v10/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYWx2YXJvam9zZTgyNyIsImEiOiJjaXUwaGZqZnMwMWgzMnpwZzVrdmlpcnBxIn0.ElMgKpRdQu3aeOquy3qwPg"},_defineProperty(n,"tileLayer","https://api.mapbox.com/styles/v1/mapbox/light-v9/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYWx2YXJvam9zZTgyNyIsImEiOiJjaXUwaGZqZnMwMWgzMnpwZzVrdmlpcnBxIn0.ElMgKpRdQu3aeOquy3qwPg"),_defineProperty(n,"tileLayerOptions",{opacity:.9,detectRetina:!0,reuseTiles:!0,attribution:"Mapbox"}),_defineProperty(n,"minZoom",2),_defineProperty(n,"doubleClickZoom",!0),n)}),e.navOpen=!1,e.getMyLocation=function(o){var n="http://freegeoip.net/json/"+o;t.get(n).success(function(t){e.center={lat:t.latitude,lng:t.longitude,zoom:10},e.ip=t.ip,e.markers.push({lat:t.latitude,lng:t.longitude,title:"Here I am",message:"Here I am"})}),e.navOpen=!1},e.validateAndAdd=function(){if(null!==e.place&&"object"===_typeof(e.place)){var t=JSON.parse(JSON.stringify(e.place));console.log(t);var o={lat:t.geometry.location.lat,lng:t.geometry.location.lng,message:t.address_components[0].long_name,title:t.address_components[0].long_name};e.$storage.markers.push(o),e.$storage.citiesList.push(t.formatted_address),e.center={lat:t.geometry.location.lat,lng:t.geometry.location.lng,zoom:10},e.place="",e.navOpen=!1}},e.removeCity=function(t){e.$storage.citiesList.splice(t,1),e.$storage.markers.splice(t,1)},e.expandMap=function(){e.center.zoom=2,e.navOpen=!1,e.currentCity=""},e.moveMapHere=function(t){e.center={lat:e.$storage.markers[t].lat,lng:e.$storage.markers[t].lng,zoom:10},e.navOpen=!1,e.currentCity=t}}]);